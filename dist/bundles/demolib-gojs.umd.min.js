!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("gojs"),require("@angular/common"),require("@angular/router"),require("@angular/forms")):"function"==typeof define&&define.amd?define("demolib-gojs",["exports","@angular/core","gojs","@angular/common","@angular/router","@angular/forms"],t):t(e["demolib-gojs"]={},e.ng.core,e.go,e.ng.common,e.ng.router,e.ng.forms)}(this,function(e,t,o,a,n,r){"use strict";var i=function(){function e(){var r=this;this.diagram=new o.Diagram;var e=o.GraphObject.make,i=e(o.TreeModel);this.diagram=new o.Diagram,this.diagram.initialContentAlignment=o.Spot.Center,this.diagram.undoManager.isEnabled=!0,this.diagram.layout=e(o.TreeLayout,{angle:90,layerSpacing:35}),this.diagram.nodeTemplate=e(o.Node,"Horizontal",{background:"#17a2b1"},{doubleClick:function(e,t){var o=t.part;if(null!==o){var a=o.data;r.diagram.startTransaction("add employee");var n={key:l(),name:"(new person)",title:"",source:"https://www.acrpnet.org/wp-content/uploads/2016/09/User-Icon-Gray.jpg",parent:a.key};r.diagram.model.addNodeData(n),r.diagram.commitTransaction("add employee")}}},{mouseDragEnter:function(e,t,o){var a=t.diagram.selection.first();if(s(a,t)){var n=t.findObject("SHAPE");n&&(n._prevFill=n.fill,n.fill="darkred")}},mouseDragLeave:function(e,t,o){var a=t.findObject("SHAPE");a&&a._prevFill&&(a.fill=a._prevFill)},mouseDrop:function(e,t){var o=t.diagram,a=o.selection.first();if(s(a,t)){var n=a.findTreeParentLink();null!==n?n.fromNode=t:o.toolManager.linkingTool.insertLink(t,t.port,a,a.port)}}},e(o.Panel,"Horizontal",{name:"SHAPE",portId:"",fromLinkable:!0,toLinkable:!0,cursor:"pointer"},e(o.Picture,{name:"Picture",desiredSize:new o.Size(65,50),margin:new o.Margin(6,8,6,10)},new o.Binding("source")),e(o.Panel,"Table",{maxSize:new o.Size(150,999),margin:new o.Margin(6,10,0,3),defaultAlignment:o.Spot.Left},e(o.RowColumnDefinition,{column:2,width:4}),e(o.TextBlock,{row:0,column:0,columnSpan:5,font:"12pt Segoe UI,sans-serif",editable:!0,isMultiline:!1,minSize:new o.Size(10,16)},new o.Binding("text","name").makeTwoWay()),e(o.TextBlock,"Title: ",{row:1,column:0}),e(o.TextBlock,{row:1,column:1,columnSpan:4,editable:!0,isMultiline:!1,minSize:new o.Size(10,14),margin:new o.Margin(0,0,0,3)},new o.Binding("text","title").makeTwoWay()),e(o.TextBlock,{row:2,column:0},new o.Binding("text","key",function(e){return"ID: "+e})),e(o.TextBlock,{name:"boss",row:2,column:3},new o.Binding("text","parent",function(e){return"Boss: "+e})),e(o.TextBlock,{row:3,column:0,columnSpan:5,font:"italic 9pt sans-serif",wrap:o.TextBlock.WrapFit,editable:!0,minSize:new o.Size(10,14)},new o.Binding("text","comments").makeTwoWay())))),this.diagram.nodeTemplate.contextMenu=e(o.Adornment,"Vertical",e("ContextMenuButton",e(o.TextBlock,"Remove Role"),{click:function(e,t){var o=t.part.adornedPart;if(null!==o&&1!=o.data.key){r.diagram.startTransaction("reparent remove");for(var a=o.findTreeChildrenNodes();a.next();){var n=a.value;i.setParentKeyForNodeData(n.data,o.findTreeParentNode().data.key)}i.removeNodeData(o.data),r.diagram.commitTransaction("reparent remove")}}}),e("ContextMenuButton",e(o.TextBlock,"Remove Department"),{click:function(e,t){var o=t.part.adornedPart;null!==o&&(r.diagram.startTransaction("remove dept"),r.diagram.removeParts(o.findTreeParts(),!0),r.diagram.commitTransaction("remove dept"))}}));var s=function(e,t){return e instanceof o.Node&&(e!==t&&!t.isInTreeOf(e))},t=-1,l=function(){for(var e=t;null!==r.diagram.model.findNodeDataForKey(e);)e=t--;return e};this.diagram.linkTemplate=e(o.Link,o.Link.Orthogonal,{corner:5,relinkableFrom:!0,relinkableTo:!0},e(o.Shape,{strokeWidth:4,stroke:"#00a4a4"})),i.nodeDataArray=[{key:1,name:"Stella Payne Diaz",title:"CEO",source:"https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&h=350"},{key:2,name:"Luke Warm",title:"VP Marketing/Sales",parent:1,source:"https://images.pexels.com/photos/614810/pexels-photo-614810.jpeg?auto=compress&cs=tinysrgb&h=350"},{key:3,name:"Meg Meehan Hoffa",title:"Sales",parent:2,source:"https://images.pexels.com/photos/324658/pexels-photo-324658.jpeg?auto=compress&cs=tinysrgb&h=350"},{key:4,name:"Peggy Flaming",title:"VP Engineering",parent:1,source:"https://images.pexels.com/photos/756453/pexels-photo-756453.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260"},{key:5,name:"Saul Wellingood",title:"Manufacturing",parent:4,source:"https://images.pexels.com/photos/941693/pexels-photo-941693.jpeg?auto=compress&cs=tinysrgb&h=350"},{key:6,name:"Al Ligori",title:"Marketing",parent:2,source:"https://images.pexels.com/photos/407237/pexels-photo-407237.jpeg?auto=compress&cs=tinysrgb&h=350"},{key:7,name:"Dot Stubadd",title:"Sales Rep",parent:3,source:"https://images.pexels.com/photos/846741/pexels-photo-846741.jpeg?auto=compress&cs=tinysrgb&h=350"},{key:8,name:"Les Ismore",title:"Project Mgr",parent:5,source:"https://images.pexels.com/photos/709188/pexels-photo-709188.jpeg?auto=compress&cs=tinysrgb&h=350"},{key:9,name:"April Lynn Parris",title:"Events Mgr",parent:6,source:"https://images.pexels.com/photos/355164/pexels-photo-355164.jpeg?auto=compress&cs=tinysrgb&h=350"},{key:10,name:"Anita Hammer",title:"Process",parent:5,source:"https://images.pexels.com/photos/818819/pexels-photo-818819.jpeg?auto=compress&cs=tinysrgb&h=350"},{key:11,name:"Evan Elpus",title:"Quality",parent:5,source:"https://images.pexels.com/photos/1036627/pexels-photo-1036627.jpeg?auto=compress&cs=tinysrgb&h=350"},{key:12,name:"Lotta B. Essen",title:"Sales Rep",parent:3,source:"https://images.pexels.com/photos/462680/pexels-photo-462680.jpeg?auto=compress&cs=tinysrgb&h=350s"}],this.diagram.model=i}return e.prototype.ngOnInit=function(){this.diagram.div=this.diagramRef.nativeElement},e.decorators=[{type:t.Component,args:[{selector:"app-gojs",template:'<div #diagramDiv\n     class="diagramDiv"></div>\n',styles:[".diagramDiv{width:100vw;min-height:80vh;margin:0}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={diagramRef:[{type:t.ViewChild,args:["diagramDiv"]}]},e}(),s=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[a.CommonModule,r.FormsModule,n.RouterModule.forChild([{path:"gojs",component:i}])],declarations:[i]}]}],e}();e.GojsModule=s,e.GojsComponent=i,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=demolib-gojs.umd.min.js.map